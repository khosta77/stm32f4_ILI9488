# stm32f4_STFTCB

## Сборка
```
$ make all; sudo openocd -f interface/stlink.cfg -f target/stm32f4x.cfg -c \
"init; reset halt; flash write_image erase main.hex; "\  
"reset; exit"
```

## todo

### Этап 0

* [ ] SPI.
    * [ ] Настроить возможность считывать данных с дисплея.
* [X] DMA.
    * [X] Запись данных с разных массивов.
* [ ] Алгоритмы.
    * [ ] Реализовать различные алгоритмы для работы с дисплеем.
        * [X] Точка.
        * [X] Горизонтальная прямая.
        * [X] Вертикальная прямая.
        * [X] Диагональ.
        * [X] Прямоугольник не закрашенный.
        * [X] Прямоугольник закрашенный.
        * [X] Окружность не закрашенная.
        * [X] Окружность закрашенная.
        * [ ] Треугольник не закрашеный.
        * [ ] Треугольник закрашенный.
    * [ ] Возможность выводить текст на экран.
        * [X] Вывод шрифта.
        * [X] Масштабирование шрифта.
        * [ ] Англиский 8x8.
        * [ ] Русский 8x8.
### Этап 1

* [ ] Рефакторинг.
    * [ ] Провести минимальную унификацию кода. То есть код будет универсален, но не настолько, что надо будет менять пару параметров как в HAL. Просто пример библиотеки для быстрого старта на CMSIS.
    * [X] Объявить все регистры, которые возможны.
    * [ ] Произвести отказ от отдельных файлов с заголовками дисплеев. Принцип один файл для всех.
* [ ] Написать набор тестов.
    * [ ] Тест вывода точка
    * [ ] Тест вывода диагональ
    * [ ] Тест вывода прямая H
    * [ ] Тест вывода прямая V
    * [ ] Тест вывода прямоугольник
    * [ ] Тест вывода закрашенный прямоугольник
    * [ ] Тест вывода окружность
    * [ ] Тест вывода закрашенная окружность
    * [ ] Тест вывода треугольник
    * [ ] Тест вывода закрашенный треугольник
    * [ ] Тест чтения информации о дисплеи и вывод ее на экран текстом
* [ ] Проверка работы всех дисплеев, внесение коррекктировок в код если это потребуется
    * [ ] ST7735S 80x160
    * [ ] ST7789V 240x240
    * [ ] ST7735 128x160
    * [ ] ST7789V3 240x280
    * [ ] ILI9341 240x320
    * [ ] ST7789 240x320
    * [ ] ILI9488 320x480

### Этап 2

* [ ] Вынос кода stftcb в отдельную директорию
* [ ] Оформление README.md
    * [ ] Примеры вывод
    * [ ] Как использовать
    * [ ] Временные диаграммы
    * [ ] Скриншоты/Гифки работы
    * [ ] Описание методов
    * [ ] Подпись дисплев в заголовке, чтобы было удобно находить по поиску
* [ ] Рефакторинг 2
    * [ ] Исправление оставшихся ошибок
    * [ ] Дописание кода, который стоило добавить в финальную версию

### Этап 3

* [ ] Релиз

### Этап 4

* [ ] Подверждение внесенных изменений

